#!/bin/bash

# this script reassembles the Recipes.pdf before every push

# get the top-level directory for the repo
GITROOT="$(git rev-parse --show-toplevel)"

bash "$GITROOT/compile.sh -a"

xdg-open "$GITROOT/Recipes.pdf" &
PDF_PID=$!

read -p "Please review the PDF and confirm it is correct. [y/n] " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]
then
    kill "$PDF_PID"
    exit 0
else
    kill "$PDF_PID"
    exit 1
fi


